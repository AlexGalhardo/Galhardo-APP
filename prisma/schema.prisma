generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                                 String    @id @default(uuid())
  name                               String
  email                              String    @unique
  confirmed_email                    Boolean   @default(false)
  confirm_email_token                String?
  password                           String
  reset_password_token               String?
  admin                              Boolean   @default(false)
  avatar                             String?
  document                           String?
  phone                              String?
  birth_date                         String?
  google_id                          String?
  github_id                          String?
  facebook_id                        String?
  address_zipcode                    String?
  address_street                     String?
  address_street_number              String?
  address_neighborhood               String?
  address_city                       String?
  address_state                      String?
  address_country                    String?
  stripe_customer_id                 String?
  stripe_card_id                     String?
  stripe_card_brand                  String?
  stripe_card_last4                  String?
  stripe_card_exp_month              String?
  stripe_card_exp_year               String?
  stripe_currently_subscription_id   String?
  stripe_currently_subscription_name String?
  stripe_subscription_start          String?
  stripe_subscription_end            String?
  stripe_cancel_at_period_end        Boolean?
  created_at                         DateTime  @default(now())
  updated_at                         DateTime?

  @@unique(fields: [id, admin], name: "isAdmin")
  @@unique(fields: [email, confirmed_email], name: "emailConfirmed")
  @@map("users")
}

model Blog {
  id         String    @id @default(uuid())
  title      String    @unique
  resume     String    @unique
  image      String    @unique
  category   String
  body       String    @unique
  slug       String    @unique
  created_at DateTime  @default(now())
  updated_at DateTime?

  @@map("blog")
}

model Game {
  id           String    @id @default(uuid())
  title        String    @unique
  year_release Int
  price        Int
  resume       String    @unique
  image        String    @unique
  igdb_link    String    @unique
  igdb_rating  Int
  platforms    String
  developer    String
  genres       String
  amazon_link  String    @unique
  created_at   DateTime  @default(now())
  updated_at   DateTime?

  @@map("games")
}

model Book {
  id           String    @id @default(uuid())
  title        String    @unique
  year_release Int
  price        Int
  image        String    @unique
  amazon_link  String    @unique
  resume       String    @unique
  pages        Int
  genres       String
  author       String
  created_at   DateTime  @default(now())
  updated_at   DateTime?

  @@map("books")
}

model Movie {
  id           String    @id @default(uuid())
  title        String    @unique
  year_release Int
  image        String    @unique
  tmdb_link    String    @unique
  tmdb_rating  Float
  resume       String    @unique
  duration     String
  genres       String
  created_at   DateTime  @default(now())
  updated_at   DateTime?

  @@map("movies")
}

model Tvshow {
  id           String    @id @default(uuid())
  title        String    @unique
  year_release Int
  image        String    @unique
  tmdb_link    String    @unique
  tmdb_rating  Float
  resume       String    @unique
  duration     String
  genres       String
  created_at   DateTime  @default(now())
  updated_at   DateTime?


  @@map("tv_shows")
}

model StripeShopTransaction {
  id                             String   @id @default(uuid())
  transaction_id                 String   @unique
  total_amount                   Float
  card_id                        String
  brand                          String
  exp_month                      Int
  exp_year                       Int
  last4                          Int
  currency                       String
  paid                           Boolean
  products_amount                Float
  products                       String
  customer_id                    String
  stripe_id                      String
  customer_email                 String
  customer_phone                 String
  customer_name                  String
  shipping_address_zipcode       String
  shipping_address_street        String
  shipping_address_street_number Int
  shipping_address_neighborhood  String
  shipping_address_city          String
  shipping_address_state         String
  shipping_address_country       String
  carrier                        String
  fee                            Int
  created_at                     DateTime @default(now())


  @@map("stripe_shop_transactions")
}

model StripeSubscriptionTransaction {
  id                   String   @id @default(uuid())
  created_at           DateTime @default(now())
  transaction_id       String
  status               String
  card_id              String
  card_brand           String
  card_exp_month       Int
  card_exp_year        Int
  card_last4           String
  plan_id              String
  name                 String
  amount               Int
  current_period_start String
  current_period_end   String
  cancel_at_period_end Boolean
  customer_id          String
  customer_stripe_id   String
  customer_email       String
  customer_name        String

  @@map("stripe_subscriptions_transactions")
}
